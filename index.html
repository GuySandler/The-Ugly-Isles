<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>The Ugly Isles</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div id="body2">
		<progress value="0" max="1000000" id="retirement"></progress>
		<p id="retirement-text">progress to my retirement: 0/1000000 monies</p>

		<p style="display:inline-block;">Shells spent so far:<p id="spent" style="display:inline-block;">0</p></p>
		<h1 style="text-align: center;">Welcome to the Ugly Isles</h1>
		<h2>We need more tourism <img src="sadge.png" alt="Sadge" id="sadge"></h2>
		<button class="href" onclick="goToShellfish()">Continue to The Shellfish Kingdom (it's a long swim, you should buy a boat ticket)</button>
		<br>
		<button class="href" onclick="goToGhostRave()">Continue to the Ghost Rave (we recommend buying earplugs)</button>
		<br>
		<button class="href" onclick="goToShrubs()">Go to the Shrubs of Mystery (bring flashlight)</button>
		<h1>We hope you enjoyed your Ugly Isles experience!</h1>
		<h2>PLEASE buy something at our gift shop</h2>
		<div>
			<img src="letter.png" alt="letter" style="width:100px;">
			<button onclick="buyText()">Buy text premium (35 <img src="shell.avif" alt="shells" style="width:30px;">)</button>
		</div>
		<div>
			<img src="magnet.png" alt="magnet" style="width:100px;">
			<button onclick="buy('magnet', 25, 'We ran out of magnets, shipping is expensive here :(')">Buy our car magnet (24.9 <img src="doubloon.svg" alt="shells" style="width:30px;">)</button>
		</div>
		<div>
			<img src="ship.svg" alt="ship" style="width:100px;">
			<button onclick="buy('ship', 55, 'We only have one ship (it\'s totally not stolen from the high seas)')">Ticket to ship (54.99 <img src="doubloon.svg" alt="shells" style="width:30px;">)</button>
		</div>
		<div>
			<img src="flashlight.avif" alt="flashlight" style="width:100px;">
			<button onclick="buy('flashlight', 42, 'HQ doesn\'t give me a light source and I\'m afraid of the dark')">Flashlight (image to scale) (41.999 <img src="shell.avif" alt="shells" style="width:30px;">)</button>
		</div>
		<div>
			<img src="earplugs.webp" alt="earplugs" style="width:100px;">
			<button onclick="buy('earplugs', 10, 'I ran out, hand-made small batches')">Earplugs (I made them myself) (99999 / 10000 <img src="bitcoin.jpeg" alt="shells" style="width:30px;">)</button>
		</div>
		<h2>MERCH! display your support with the best colored shirts: neon orange and neon yellow</h2>
		<div>
			<img src="neonorange.jpg" alt="neonOrange" style="width:100px;">
			<button onclick="buy('neonOrange', 45, 'we ran out of neon, come back later when the chemical separator is back up')">Neon Orange (forty four and nine nine hundredths <img src="mariocoin.jpg" alt="shells" style="width:30px;">)</button>
		</div>
		<div>
			<img src="neonyellow.webp" alt="neonYellow" style="width:100px;">
			<button onclick="buy('neonYellow', 45, 'we ran out of neon, come back later when the chemical separator is back up')">Neon Yellow (101100.11111100 <img src="doubloon.svg" alt="shells" style="width:30px;">)</button>
		</div>
	</div>
	<script>
		let shellsSpent = 0;
		let bought = [];
		function updateSpent() {
			document.getElementById("spent").innerText = shellsSpent;
		}
		function buyText() {
			if (bought.includes("text")) {
				alert("doesn't get more readable than this :)");
				return;
			}
			document.getElementById("body2").style.fontFamily = "comicsans";
			const textElements = document.querySelectorAll("h1, h2, a, button, p");
			textElements.forEach(element => {
				element.style.textShadow = "2px 2px 0 yellow, -2px -2px 0 yellow, 2px -2px 0 yellow, -2px 2px 0 yellow";
			});
			shellsSpent += 35;
			updateSpent();
			addmoney(35);
			bought.push("text");
		}
		function buy(item, cost, outofmessage) {
			if (bought.includes(item)) {
				alert(outofmessage);
				return;
			}
			shellsSpent += cost;
			addmoney(cost);
			updateSpent();
			bought.push(item);
		}
		// gotos
		function goToShellfish() {
			if (!bought.includes("ship")) {
				if (confirm("It's a long swim, are you sure you don't want to buy our ship ticket? (we don't know how to sail)")) {
					if (confirm("Are you REALLY sure? you should give us more money")) {
						window.location.href = "TBD";
					}
				}
				return;
			}
			window.location.href = "TBD";
		}
		function goToGhostRave() {
			if (!bought.includes("earplugs")) {
				if (confirm("9/10 Scientists recommend ear plugs because loud music can damage your hearing, you should buy them from our store!")) {
					if (confirm("Are you REALLY sure? I want to be able to make a living :(")) {
						window.location.href = "TBD";
					}
				}
				return;
			}
			window.location.href = "TBD";
		}
		function goToShrubs() {
			if (!bought.includes("flashlight")) {
				if (confirm("The shrubs are very dark, you should buy a flashlight from our store!")) {
					if (confirm("Are you REALLY sure? .001% goes to nature conservation on this island!")) {
						window.location.href = "TBD";
					}
				}
				return;
			}
			window.location.href = "TBD";
		}
		let retirementProgress = 0;
		function updatebar() {
			fetch("https://guy.hackclub.app/uglyisles/data").then(response => response.json()).then(data => {
				retirementProgress = data.money;
				document.getElementById("retirement").value = retirementProgress;
				document.getElementById("retirement-text").innerText = `progress to my retirement: ${retirementProgress}/1000000 monies`;
			});
		}
		updatebar();
		function addmoney(amount) {
			fetch(`https://guy.hackclub.app/uglyisles/addmoney?money=${amount}`, {
				method: 'POST'
			}).then(() => {
				updatebar();
			});
		}
	</script>
</body>
</html>